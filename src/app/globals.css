@import "tailwindcss";

:root {
  /* Submerged minimalism palette */
  --ptl-bg: #0f1619;
  --ptl-bg-2: #111c20;
  --ptl-bg-3: #18262b;
  --ptl-ink: #14201c;
  --ptl-ink-strong: #0d1714;
  --ptl-ink-muted: rgba(20, 32, 28, 0.72);
  --ptl-ink-soft: rgba(20, 32, 28, 0.56);

  --ptl-surface: rgba(214, 224, 218, 0.74);
  --ptl-surface-strong: rgba(230, 238, 234, 0.86);
  --ptl-surface-soft: rgba(192, 204, 198, 0.46);
  --ptl-surface-contrast: rgba(242, 246, 244, 0.9);
  --ptl-border: rgba(106, 132, 123, 0.36);
  --ptl-border-strong: rgba(84, 109, 101, 0.46);

  --ptl-accent: #4f7c66;
  --ptl-accent-ink: #1e3d31;
  --ptl-accent-soft: rgba(111, 158, 131, 0.34);
  --ptl-aqua: #5f8991;
  --ptl-sand: #cdbda5;
  --ptl-stone: #aeb9b3;
  --ptl-slate: #1d2a2f;
  --ptl-slate-2: #162126;
  --ptl-slate-3: #10181c;

  --ptl-shadow-xs: 0 1px 0 rgba(6, 10, 9, 0.22);
  --ptl-shadow-sm: 0 10px 28px rgba(5, 10, 11, 0.2);
  --ptl-shadow-md: 0 18px 42px rgba(5, 10, 11, 0.24);
  --ptl-shadow-lg: 0 28px 68px rgba(4, 9, 10, 0.28);
  --ptl-shadow: var(--ptl-shadow-xs), var(--ptl-shadow-sm);

  --ptl-space-1: 0.25rem;
  --ptl-space-2: 0.5rem;
  --ptl-space-3: 0.75rem;
  --ptl-space-4: 1rem;
  --ptl-space-5: 1.5rem;
  --ptl-space-6: 2rem;
  --ptl-space-7: 2.75rem;
  --ptl-space-8: 3.5rem;

  --ptl-ease-premium: cubic-bezier(0.16, 1, 0.3, 1);
  --ptl-ease-soft: cubic-bezier(0.25, 0.1, 0.25, 1);
  --ptl-duration-fast: 180ms;
  --ptl-duration-med: 280ms;
}

@theme inline {
  --color-background: var(--ptl-bg);
  --color-foreground: var(--ptl-ink);
  --font-sans: var(--font-sans);
  --font-mono: var(--font-mono);
}

html,
body {
  height: 100%;
}

body {
  color: var(--ptl-ink-strong);
  font-family:
    var(--font-sans),
    ui-sans-serif,
    system-ui,
    -apple-system,
    "Segoe UI",
    sans-serif;
  cursor: default;
  background: radial-gradient(
      900px 620px at 12% 8%,
      rgba(95, 137, 145, 0.2),
      transparent 68%
    ),
    radial-gradient(
      980px 640px at 90% 14%,
      rgba(79, 124, 102, 0.26),
      transparent 66%
    ),
    radial-gradient(
      880px 520px at 52% 118%,
      rgba(205, 189, 165, 0.18),
      transparent 64%
    ),
    linear-gradient(180deg, var(--ptl-bg) 0%, var(--ptl-bg-2) 45%, var(--ptl-bg-3) 100%);
}

::selection {
  color: #e8f1ec;
  background: rgba(79, 124, 102, 0.68);
}

@keyframes ptlSkeletonPulse {
  0%,
  100% {
    opacity: 0.52;
  }

  50% {
    opacity: 0.88;
  }
}

@keyframes ptlShimmer {
  0% {
    background-position: 180% 0;
  }

  100% {
    background-position: -180% 0;
  }
}

@media (prefers-reduced-motion: no-preference) {
  @keyframes ptlFadeUp {
    from {
      opacity: 0;
      transform: translateY(12px);
    }

    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes ptlPopIn {
    from {
      opacity: 0;
      transform: translateY(12px) scale(0.98);
    }

    to {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }

  .ptl-reveal {
    animation: ptlFadeUp 620ms var(--ptl-ease-premium) both;
    animation-delay: var(--ptl-delay, 0ms);
  }

  .ptl-pop-in {
    animation: ptlPopIn 320ms var(--ptl-ease-premium) both;
  }

  .ptl-app main {
    animation: ptlFadeUp 420ms var(--ptl-ease-premium) both;
  }
}

@media (prefers-reduced-motion: reduce) {
  .ptl-reveal {
    animation: none !important;
    transform: none !important;
  }

  .ptl-pop-in {
    animation: none !important;
    transform: none !important;
  }

  .ptl-app main {
    animation: none !important;
  }
}

/* Ensure interactive controls feel interactive, even without utility classes. */
a,
button,
[role="button"],
label:has(input) {
  cursor: pointer;
}

:where(button, [role="button"], a) {
  transition-property:
    transform,
    box-shadow,
    filter,
    opacity,
    border-color,
    background-color,
    color;
  transition-duration: var(--ptl-duration-fast);
  transition-timing-function: var(--ptl-ease-soft);
}

:where(button, [role="button"], a):active {
  transform: translateY(1px) scale(0.995);
}

:where(a, button, input, select, textarea):focus-visible {
  outline: none;
  box-shadow:
    0 0 0 2px rgba(13, 23, 20, 0.4),
    0 0 0 5px rgba(111, 158, 131, 0.34);
}

/* App backdrop and subtle pattern layer. */
.ptl-app {
  position: relative;
  min-height: 100dvh;
  isolation: isolate;
}

.ptl-app::before {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  background-image: url("/patterns/leaf-mesh.svg");
  background-size: 600px 600px;
  background-repeat: repeat;
  opacity: 0.08;
  mix-blend-mode: soft-light;
  z-index: -2;
}

.ptl-app::after {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  background-image: radial-gradient(rgba(236, 243, 239, 0.26) 0.5px, transparent 0.8px);
  background-size: 3px 3px;
  opacity: 0.1;
  mix-blend-mode: overlay;
  z-index: -1;
}

.ptl-app :where(
    input:not([type="checkbox"]):not([type="radio"]):not([type="range"]):not([type="hidden"]),
    select,
    textarea
  ) {
  border: 1px solid var(--ptl-border);
  border-radius: 0.9rem;
  color: var(--ptl-ink-strong);
  background: linear-gradient(
    180deg,
    rgba(237, 244, 240, 0.85),
    rgba(218, 229, 223, 0.72)
  );
  box-shadow: inset 0 1px 0 rgba(244, 248, 246, 0.5);
}

.ptl-app :where(
    input:not([type="checkbox"]):not([type="radio"]):not([type="range"]):not([type="hidden"]),
    select,
    textarea
  )::placeholder {
  color: var(--ptl-ink-soft);
}

.ptl-app :where(select, input, textarea):disabled {
  opacity: 0.68;
  cursor: not-allowed;
}

@layer components {
  .ptl-page {
    @apply mx-auto max-w-6xl px-6 py-14;
  }

  .ptl-page-tight {
    @apply mx-auto max-w-6xl px-6 py-10;
  }

  .ptl-kicker {
    @apply text-xs font-semibold uppercase tracking-wide;
    color: rgba(20, 32, 28, 0.64);
  }

  .ptl-hero-title {
    font-family: var(--font-display);
    @apply text-balance text-5xl font-semibold leading-[0.95] tracking-tight sm:text-7xl;
  }

  .ptl-page-title {
    font-family: var(--font-display);
    @apply text-balance text-4xl font-semibold tracking-tight sm:text-5xl;
  }

  .ptl-section-title {
    font-family: var(--font-display);
    @apply text-balance text-3xl font-semibold tracking-tight;
  }

  .ptl-card-title {
    font-family: var(--font-display);
    @apply text-balance text-lg font-semibold tracking-tight;
  }

  .ptl-hero-lede {
    @apply text-pretty text-base sm:text-lg;
    color: rgba(20, 32, 28, 0.84);
  }

  .ptl-lede {
    @apply text-pretty text-sm sm:text-base;
    color: rgba(20, 32, 28, 0.82);
  }

  .ptl-prose {
    max-width: 72ch;
    color: rgba(20, 32, 28, 0.82);
    line-height: 1.75;
    font-size: 0.95rem;
  }

  .ptl-prose p + p {
    margin-top: 0.9rem;
  }

  .ptl-prose ul {
    margin-top: 0.9rem;
    padding-left: 1.2rem;
    list-style: disc;
  }

  .ptl-prose li + li {
    margin-top: 0.35rem;
  }

  .ptl-prose a {
    text-decoration: underline;
    text-decoration-thickness: 2px;
    text-underline-offset: 3px;
    text-decoration-color: rgba(79, 124, 102, 0.35);
  }

  .ptl-prose a:hover {
    color: rgba(13, 23, 20, 0.95);
    text-decoration-color: rgba(79, 124, 102, 0.58);
  }

  .ptl-image-ph {
    background: radial-gradient(
        circle at 18% 16%,
        rgba(111, 158, 131, 0.34),
        transparent 55%
      ),
      radial-gradient(circle at 84% 86%, rgba(95, 137, 145, 0.28), transparent 56%),
      linear-gradient(145deg, rgba(235, 241, 238, 0.88), rgba(205, 216, 210, 0.62));
  }

  .ptl-skeleton {
    border-radius: 0.75rem;
    background: linear-gradient(
      125deg,
      rgba(173, 185, 179, 0.35),
      rgba(235, 241, 238, 0.8),
      rgba(173, 185, 179, 0.35)
    );
    background-size: 220% 100%;
    animation: ptlSkeletonPulse 1.35s ease-in-out infinite;
  }

  .ptl-skeleton-shimmer {
    animation:
      ptlSkeletonPulse 1.35s ease-in-out infinite,
      ptlShimmer 1.65s linear infinite;
  }

  @media (prefers-reduced-motion: reduce) {
    .ptl-skeleton {
      animation: none !important;
      opacity: 0.85;
    }
  }

  .ptl-hover-lift {
    @apply transition;
    transition-property: transform, filter, box-shadow;
    transition-duration: var(--ptl-duration-med);
    transition-timing-function: var(--ptl-ease-premium);
  }

  .ptl-hover-lift:hover {
    transform: translateY(-3px);
    filter: brightness(1.02);
    box-shadow: var(--ptl-shadow-md);
  }

  @media (prefers-reduced-motion: reduce) {
    .ptl-hover-lift {
      transition: none !important;
    }

    .ptl-hover-lift:hover {
      transform: none !important;
      filter: none !important;
      box-shadow: none !important;
    }
  }

  .ptl-surface-glass {
    @apply rounded-3xl border shadow-sm backdrop-blur-md;
    border-color: var(--ptl-border);
    box-shadow: var(--ptl-shadow);
    background: linear-gradient(
      135deg,
      rgba(231, 238, 234, 0.76),
      rgba(206, 217, 211, 0.56)
    );
  }

  .ptl-surface-slate {
    @apply rounded-3xl border shadow-sm backdrop-blur-md;
    border-color: rgba(159, 189, 174, 0.22);
    box-shadow: var(--ptl-shadow-lg);
    color: rgba(255, 255, 255, 0.92);
    background: radial-gradient(
        980px 560px at 20% 0%,
        rgba(95, 137, 145, 0.32),
        transparent 64%
      ),
      radial-gradient(
        820px 520px at 120% 26%,
        rgba(111, 158, 131, 0.28),
        transparent 58%
      ),
      linear-gradient(142deg, var(--ptl-slate), var(--ptl-slate-2) 48%, var(--ptl-slate-3));
  }

  .ptl-surface-sand {
    @apply rounded-3xl border shadow-sm;
    border-color: rgba(108, 100, 86, 0.26);
    box-shadow: var(--ptl-shadow);
    background: radial-gradient(
        780px 420px at 12% 20%,
        rgba(244, 240, 232, 0.56),
        transparent 60%
      ),
      radial-gradient(
        600px 360px at 92% 74%,
        rgba(111, 158, 131, 0.18),
        transparent 60%
      ),
      linear-gradient(180deg, rgba(205, 189, 165, 0.62), rgba(194, 180, 158, 0.44));
  }

  .ptl-surface-stone {
    @apply rounded-3xl border shadow-sm backdrop-blur-sm;
    border-color: rgba(102, 118, 112, 0.28);
    box-shadow: var(--ptl-shadow);
    background: radial-gradient(
        920px 540px at 20% -10%,
        rgba(230, 236, 232, 0.48),
        transparent 60%
      ),
      linear-gradient(180deg, rgba(174, 185, 179, 0.62), rgba(157, 169, 162, 0.5));
  }

  .ptl-surface {
    @apply rounded-3xl border shadow-sm backdrop-blur-md text-[color:var(--ptl-ink)];
    border-color: var(--ptl-border);
    box-shadow: var(--ptl-shadow);
    background: linear-gradient(
      135deg,
      rgba(220, 229, 224, 0.78),
      rgba(202, 214, 207, 0.62)
    );
  }

  .ptl-surface-strong {
    @apply rounded-3xl border shadow-sm text-[color:var(--ptl-ink)];
    border-color: var(--ptl-border-strong);
    box-shadow: var(--ptl-shadow-md);
    background: linear-gradient(
      160deg,
      rgba(236, 242, 239, 0.88),
      rgba(219, 229, 224, 0.82)
    );
  }

  .ptl-panel {
    @apply rounded-2xl border shadow-sm backdrop-blur-md;
    border-color: var(--ptl-border);
    box-shadow: var(--ptl-shadow);
    background: linear-gradient(
      160deg,
      rgba(225, 233, 228, 0.76),
      rgba(203, 215, 208, 0.66)
    );
  }

  .ptl-control {
    @apply rounded-xl border px-3 py-2 text-sm;
    border-color: var(--ptl-border);
    color: var(--ptl-ink-strong);
    background: linear-gradient(
      180deg,
      rgba(239, 244, 241, 0.78),
      rgba(219, 229, 223, 0.65)
    );
  }

  .ptl-chip {
    @apply inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-semibold;
    border-color: var(--ptl-border);
    color: rgba(20, 32, 28, 0.76);
    background: rgba(228, 236, 231, 0.7);
  }

  .ptl-modal-overlay {
    @apply fixed inset-0 z-50;
    background: linear-gradient(180deg, rgba(8, 13, 15, 0.76), rgba(8, 13, 15, 0.62));
    backdrop-filter: blur(5px);
  }

  .ptl-modal-surface {
    @apply rounded-3xl border backdrop-blur-md;
    border-color: rgba(172, 196, 185, 0.28);
    box-shadow: var(--ptl-shadow-lg);
    background: radial-gradient(
        1000px 620px at 0% 0%,
        rgba(95, 137, 145, 0.2),
        transparent 64%
      ),
      radial-gradient(
        1000px 620px at 120% 0%,
        rgba(111, 158, 131, 0.2),
        transparent 68%
      ),
      linear-gradient(170deg, rgba(31, 45, 51, 0.92), rgba(21, 33, 38, 0.94));
    color: rgba(242, 247, 244, 0.9);
  }

  .ptl-btn-primary {
    @apply inline-flex cursor-pointer items-center justify-center rounded-full border px-4 py-2 text-sm font-semibold text-white shadow-sm transition;
    border-color: rgba(162, 201, 180, 0.35);
    box-shadow:
      0 8px 22px rgba(35, 57, 47, 0.28),
      inset 0 1px 0 rgba(222, 240, 230, 0.28);
    background: linear-gradient(145deg, #5d8d73, #3f6753);
  }

  .ptl-btn-primary:hover {
    filter: brightness(1.04) saturate(1.03);
    box-shadow:
      0 12px 30px rgba(35, 57, 47, 0.34),
      inset 0 1px 0 rgba(236, 246, 241, 0.35);
  }

  .ptl-btn-primary:active {
    filter: brightness(0.96);
  }

  .ptl-btn-secondary {
    @apply inline-flex cursor-pointer items-center justify-center rounded-full border px-4 py-2 text-sm font-semibold transition;
    border-color: var(--ptl-border);
    color: rgba(20, 32, 28, 0.86);
    background: linear-gradient(
      170deg,
      rgba(232, 239, 235, 0.84),
      rgba(213, 224, 218, 0.7)
    );
  }

  .ptl-btn-secondary:hover {
    border-color: var(--ptl-border-strong);
    background: linear-gradient(
      170deg,
      rgba(237, 243, 240, 0.9),
      rgba(218, 229, 223, 0.78)
    );
  }

  .ptl-btn-ghost {
    @apply inline-flex items-center justify-center rounded-full border px-4 py-2 text-sm font-semibold;
    border-color: rgba(171, 190, 181, 0.26);
    color: rgba(226, 236, 231, 0.88);
    background: rgba(44, 63, 57, 0.42);
  }

  .ptl-btn-ghost:hover {
    border-color: rgba(171, 190, 181, 0.4);
    background: rgba(44, 63, 57, 0.56);
  }

  .ptl-pill {
    @apply inline-flex items-center rounded-full border px-2.5 py-1 text-[11px] font-semibold;
    border-color: var(--ptl-border);
    color: var(--ptl-ink-muted);
    background: linear-gradient(
      140deg,
      rgba(229, 237, 232, 0.8),
      rgba(205, 216, 210, 0.62)
    );
  }

  .ptl-builder-shell {
    @apply rounded-3xl border backdrop-blur-md;
    border-color: rgba(173, 195, 185, 0.2);
    box-shadow: var(--ptl-shadow-lg);
    background: radial-gradient(
        1000px 640px at 12% 8%,
        rgba(95, 137, 145, 0.26),
        transparent 62%
      ),
      radial-gradient(
        900px 620px at 104% 12%,
        rgba(111, 158, 131, 0.24),
        transparent 60%
      ),
      linear-gradient(170deg, rgba(25, 39, 44, 0.94), rgba(14, 23, 27, 0.94));
    color: rgba(238, 244, 241, 0.9);
  }

  .ptl-builder-panel {
    @apply rounded-2xl border backdrop-blur-md;
    border-color: rgba(173, 195, 185, 0.22);
    background: linear-gradient(
      165deg,
      rgba(46, 64, 58, 0.58),
      rgba(32, 47, 43, 0.68)
    );
    box-shadow: var(--ptl-shadow-sm);
  }

  .ptl-builder-canvas {
    @apply rounded-2xl border shadow-sm;
    border-color: rgba(173, 195, 185, 0.26);
    background: linear-gradient(180deg, rgba(218, 235, 244, 0.9), rgba(193, 217, 230, 0.86));
  }

  .ptl-builder-bg {
    min-height: calc(100vh - 8rem);
    background-image:
      linear-gradient(180deg, rgba(22, 34, 39, 0.66), rgba(17, 28, 32, 0.78)),
      url("/images/builder-hero-1600.jpg");
    background-position: center;
    background-size: cover;
    background-repeat: no-repeat;
  }

  .ptl-builder-drawer {
    transition-property: transform, opacity;
    transition-duration: var(--ptl-duration-med);
    transition-timing-function: var(--ptl-ease-premium);
  }

  .ptl-builder-new-item {
    animation: ptlPopIn 280ms var(--ptl-ease-premium) both;
  }

  @media (max-width: 768px) {
    .ptl-builder-bg {
      background-image:
        linear-gradient(180deg, rgba(18, 29, 33, 0.68), rgba(17, 28, 32, 0.8)),
        url("/images/builder-hero-960.jpg");
      background-position: center top;
    }
  }

  @media (min-width: 1536px) {
    .ptl-builder-bg {
      background-image:
        linear-gradient(180deg, rgba(18, 29, 33, 0.62), rgba(17, 28, 32, 0.76)),
        url("/images/builder-hero-2560.jpg");
    }
  }
}
